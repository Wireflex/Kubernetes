## ReplicationController

это ресурс кубера, обеспечивающий поддержание постойнной работы его подов, отслеживает кол-во реплик и поддерживает его

<details> <summary>rc-kuber.yaml</summary>

```
apiVersion: v1
kind: ReplicationController
metadata:
  name: kuber-rc
spec:
  replicas: 3
  selector:               # Селектор меток, определяет какие поды находятся в области действия контроллера
    app: http-server      # должен совпадать с меткой в template 
  template:               # Шаблон, будет создавать 3 реплики, основываясь на этом шаблоне
    metadata:
      name: kuber-app
      labels:             # должен совпадать с меткой в selector
        app: http-server  # иначе ReplicationController не может управлять подами и не будет поддерживать необходимое кол-во реплик
    spec:
      containers:
      - name: http-server-image
        image: bokovets/kuber
        ports:
        - containerPort: 8000
```
</details>

Теперь при удалении пода ReplicationController будет поднимать новый, а если попытаться поднять

<details> <summary>kuber-pod.yml</summary>

```
apiVersion: v1
kind: Pod
metadata:
  name: kuber-app-manual
  labels:
    app: http-server
spec:
  containers:
  - name: kuber-app-image
    image: bokovets/kuber
    ports:
    - containerPort: 8000
```
</details>

то он его зарегистрирует к себе, т.к совпадают labels: app: http-server, но не создаст, т.к реплик и так уже 3

если же поменять label, к примеру, на 'test-server',то ReplicationController больше не будет его контролировать, а создаст новый
